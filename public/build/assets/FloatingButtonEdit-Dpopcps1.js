import{d as m,q as ue,o as a,e as i,n as S,t as $,i as ae,v as ie,a as e,k as ce,E as he,b as n,u as fe,Z as me,w as g,g as b,f as x,l as U,c as ne,F as W,h as ge,r as re,B as de,j as pe}from"./app-CqbgnAp8.js";import{_ as ve,a as C,b as be,N as A}from"./ResponsiveNavLink-D-9hKy2q.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const we={class:"relative"},ye={key:0},ke=["textContent"],Ce=["textContent"],Ee=["textContent"],Se=["textContent"],$e={key:1,class:"relative"},Ve=["placeholder"],je=["placeholder"],Be={__name:"EditableText",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"Escribe aquí..."},isEditing:{type:Boolean,default:!1},tag:{type:String,default:"p"},className:{type:String,default:""},multiline:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(l,{emit:M}){const r=l,p=M,f=m(!1),d=m(r.modelValue),s=ue(()=>r.isEditing&&f.value),u=()=>{r.isEditing&&(f.value=!0,d.value=r.modelValue)},E=()=>{d.value!==r.modelValue&&(p("update:modelValue",d.value),p("change",d.value)),f.value=!1},j=()=>{d.value=r.modelValue,f.value=!1},V=T=>{T.key==="Enter"&&!T.shiftKey?(T.preventDefault(),E()):T.key==="Escape"&&j()},B=()=>{E()};return(T,y)=>(a(),i("div",we,[s.value?(a(),i("div",$e,[l.multiline?ae((a(),i("textarea",{key:0,"onUpdate:modelValue":y[0]||(y[0]=w=>d.value=w),placeholder:l.placeholder,class:S([l.className,"w-full bg-white bg-opacity-90 text-black px-3 py-2 rounded border-2 border-blue-500 focus:outline-none focus:border-blue-600 resize-none"]),onKeydown:V,onBlur:B,ref:"textareaRef",rows:"3"},null,42,Ve)),[[ie,d.value]]):ae((a(),i("input",{key:1,"onUpdate:modelValue":y[1]||(y[1]=w=>d.value=w),placeholder:l.placeholder,class:S([l.className,"w-full bg-white bg-opacity-90 text-black px-3 py-2 rounded border-2 border-blue-500 focus:outline-none focus:border-blue-600"]),onKeydown:V,onBlur:B,ref:"inputRef"},null,42,je)),[[ie,d.value]]),e("div",{class:"absolute top-0 right-0 transform translate-x-full ml-2 flex gap-1"},[e("button",{onClick:E,class:"bg-green-500 hover:bg-green-600 text-white p-1 rounded text-xs",title:"Guardar"},y[2]||(y[2]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])),e("button",{onClick:j,class:"bg-red-500 hover:bg-red-600 text-white p-1 rounded text-xs",title:"Cancelar"},y[3]||(y[3]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):(a(),i("div",ye,[l.tag==="h1"?(a(),i("h1",{key:0,class:S([l.className,"cursor-pointer transition-all duration-200",l.isEditing?"hover:bg-white hover:bg-opacity-10 hover:px-2 hover:py-1 hover:rounded":""]),onClick:u,textContent:$(l.modelValue||l.placeholder)},null,10,ke)):l.tag==="h2"?(a(),i("h2",{key:1,class:S([l.className,"cursor-pointer transition-all duration-200",l.isEditing?"hover:bg-white hover:bg-opacity-10 hover:px-2 hover:py-1 hover:rounded":""]),onClick:u,textContent:$(l.modelValue||l.placeholder)},null,10,Ce)):l.tag==="h3"?(a(),i("h3",{key:2,class:S([l.className,"cursor-pointer transition-all duration-200",l.isEditing?"hover:bg-white hover:bg-opacity-10 hover:px-2 hover:py-1 hover:rounded":""]),onClick:u,textContent:$(l.modelValue||l.placeholder)},null,10,Ee)):(a(),i("p",{key:3,class:S([l.className,"cursor-pointer transition-all duration-200",l.isEditing?"hover:bg-white hover:bg-opacity-10 hover:px-2 hover:py-1 hover:rounded":""]),onClick:u,textContent:$(l.modelValue||l.placeholder)},null,10,Se))]))]))}},z=xe(Be,[["__scopeId","data-v-486497ab"]]),Te={class:"overflow-x-hidden"},Ie={key:0,id:"menuMobile",class:"fixed w-full h-full flex flex-col justify-end bottom-0 bg-[#0A15E3] left-0 right-0 z-[100]"},ze={class:"flex flex-col gap-4 p-10 w-full h-full justify-center items-start font-extrabold text-white"},Me={class:"space-x-4 sm:-my-px sm:ms-10 lg:flex text-2xl"},Ne={class:"space-x-4 sm:-my-px sm:ms-10 lg:flex"},Ue={class:"space-x-4 sm:-my-px sm:ms-10 lg:flex"},Ae={class:"space-x-4 sm:-my-px sm:ms-10 lg:flex"},We={class:"cursor-pointer space-x-4 sm:-my-px sm:ms-10 lg:flex"},Le={class:"w-7/12 h-full bg-[#0A15E3] overflow-y-auto"},De={class:"p-4"},Fe={class:"flex justify-between"},Ge={class:"flex flex-col pl-10 pr-10"},Re={class:"flex justify-between -mt-14"},He={class:"flex flex-col gap-2"},Oe={class:"w-full h-full bg-[#0A15E3] overflow-y-auto"},Ke={class:"p-4 pt-20"},Pe={class:"flex justify-between"},qe={class:"flex flex-col pl-10 pr-10"},Ye={class:"flex justify-between -mt-14"},Ze={class:"flex flex-col gap-2"},Je={class:"max-w-7xl mx-auto sm:px-6 md:px-1 lg:px-8"},Qe={class:"flex justify-between h-16 pt-6"},Xe={class:"flex justify-end"},_e={class:"shrink-0 flex items-center"},et={class:"hidden xl:flex"},tt={class:"hidden space-x-4 sm:-my-px sm:ms-10 lg:flex"},ot={class:"hidden space-x-4 sm:-my-px sm:ms-10 lg:flex"},lt={class:"hidden space-x-4 sm:-my-px sm:ms-10 lg:flex"},st={class:"hidden space-x-4 sm:-my-px sm:ms-10 lg:flex"},at={class:"hidden cursor-pointer space-x-4 sm:-my-px sm:ms-10 lg:flex"},it={class:"pt-2 pb-3 space-y-1"},nt={class:"pt-2 pb-3 space-y-1"},rt={class:"pt-4 pb-1 border-t border-gray-200"},dt={class:"flex items-center px-4"},ut={key:0,class:"shrink-0 me-3"},ct=["src","alt"],ht={class:"font-medium text-base text-gray-800"},ft={class:"font-medium text-sm text-gray-500"},mt={class:"mt-3 space-y-1"},gt=["onSubmit"],pt={class:"flex items-center"},vt={key:0,class:"me-2 h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},bt={key:0,class:"bg-white shadow"},xt={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Ft={__name:"AppLayoutEdit",props:{title:String,isEditing:{type:Boolean,default:!1},initialContactTitle:{type:String,default:"LET'S WORK TOGETHER"},initialContactDescription:{type:String,default:"We'd love to hear from you, whether you just want to shoot the breeze or discuss a potential opportunity to achieve great things together."},initialGetInTouch:{type:String,default:"Get in touch"},initialSendButton:{type:String,default:"Send"}},emits:["text-updated"],setup(l,{expose:M,emit:r}){const p=l,f=r,d=m(!1),s=m(!0);let u=0;const E=m(p.initialContactTitle),j=m(p.initialContactDescription),V=m(p.initialGetInTouch),B=m(p.initialSendButton),T=o=>{de.put(route("current-team.update"),{team_id:o.id},{preserveState:!1})},y=()=>{de.post(route("logout"))},w=()=>{const o=window.pageYOffset||document.documentElement.scrollTop;o<100?s.value=!0:o>u&&o>300?s.value=!1:o<u&&o<u-20&&(s.value=!0),u=o<=0?0:o};ce(()=>{window.addEventListener("scroll",w)}),he(()=>{window.removeEventListener("scroll",w)});const N=()=>{console.log("showBarContact"),k.value=!k.value},k=m(!1),h=m(!1),v=m(!1),I=()=>{v.value=!v.value},L=()=>{h.value=!h.value,h.value&&(v.value=!1,k.value=!1)},D=o=>{f("text-updated",{section:"layout",field:"contact_title",value:o})},F=o=>{f("text-updated",{section:"layout",field:"contact_description",value:o})},G=o=>{f("text-updated",{section:"layout",field:"get_in_touch",value:o})},R=o=>{f("text-updated",{section:"layout",field:"send_button",value:o})};return M({showBarContact:N}),(o,t)=>{var H,O,K,P,q,Y,Z,J,Q,X,_,ee,te,oe,le,se;return a(),i("div",Te,[n(fe(me),{title:l.title},null,8,["title"]),n(ve),v.value?(a(),i("div",Ie,[e("div",{class:"fixed top-0 pr-14 mt-10 right-0"},[e("div",{class:"size-10 cursor-pointer flex justify-center items-center",onClick:I},t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",clas1s:"size-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),e("div",ze,[e("div",Me,[n(C,{href:o.route("index"),active:o.route().current("index")},{default:g(()=>t[9]||(t[9]=[b(" Home ")])),_:1},8,["href","active"])]),e("div",Ne,[n(C,{href:o.route("work"),active:o.route().current("work")},{default:g(()=>t[10]||(t[10]=[b(" Work ")])),_:1},8,["href","active"])]),e("div",Ue,[n(C,{href:o.route("approach"),active:o.route().current("approach")},{default:g(()=>t[11]||(t[11]=[b(" Aproach ")])),_:1},8,["href","active"])]),e("div",Ae,[n(C,{href:o.route("about"),active:o.route().current("about")},{default:g(()=>t[12]||(t[12]=[b(" About Us ")])),_:1},8,["href","active"])]),e("div",We,[n(z,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=c=>V.value=c),"is-editing":l.isEditing,tag:"div",class:"text-white text-5xl font-extrabold",placeholder:"Get in touch",onChange:G},null,8,["modelValue","is-editing"])])])])):x("",!0),k.value?(a(),i("div",{key:1,id:"barContact",class:"fixed w-full h-full flex justify-end bottom-0 left-0 right-0 bg-black/40 z-[100]",onClick:U(N,["self"])},[e("div",Le,[e("div",De,[e("div",Fe,[e("div",Ge,[e("div",Re,[n(z,{modelValue:E.value,"onUpdate:modelValue":t[1]||(t[1]=c=>E.value=c),"is-editing":l.isEditing,tag:"h1",class:"text-8xl font-extrabold transform scale-y-75",placeholder:"LET'S WORK TOGETHER",onChange:D},null,8,["modelValue","is-editing"]),e("div",{class:"w-1/2 h-full flex justify-end items-center"},[e("div",{class:"size-10 cursor-pointer flex justify-center items-center",onClick:N},t[13]||(t[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",clas1s:"size-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))])]),n(z,{modelValue:j.value,"onUpdate:modelValue":t[2]||(t[2]=c=>j.value=c),"is-editing":l.isEditing,tag:"p",class:"max-w-2xl pb-8",placeholder:"We'd love to hear from you, whether you just want to shoot the breeze or discuss a potential opportunity to achieve great things together.",multiline:!0,onChange:F},null,8,["modelValue","is-editing"]),e("div",He,[t[14]||(t[14]=e("input",{type:"text",class:"w-full hover:bg-white/10 h-10 border border-white bg-white/5 text-white rounded-md pl-8 py-10 mb-2 text-xl focus:border-white focus:bg-white/10 focus:border-2 placeholder-white",placeholder:"Name"},null,-1)),t[15]||(t[15]=e("input",{type:"text",class:"w-full hover:bg-white/10 h-10 border border-white bg-white/5 text-white rounded-md pl-8 py-10 mb-2 text-xl focus:border-white focus:bg-white/10 focus:border-2 placeholder-white",placeholder:"Your email address"},null,-1)),t[16]||(t[16]=e("input",{type:"text",class:"w-full hover:bg-white/10 h-10 border border-white bg-white/5 text-white rounded-md pl-8 py-10 mb-2 text-xl focus:border-white focus:bg-white/10 focus:border-2 placeholder-white",placeholder:"Add message"},null,-1)),n(z,{modelValue:B.value,"onUpdate:modelValue":t[3]||(t[3]=c=>B.value=c),"is-editing":l.isEditing,tag:"button",class:"w-full h-32 bg-blue-950/70 uppercase font-extrabold text-white text-4xl transform scale-y-75 rounded-md p-2",placeholder:"Send",onChange:R},null,8,["modelValue","is-editing"])])])])])])])):x("",!0),h.value?(a(),i("div",{key:2,id:"barContactMobile",class:"fixed w-full h-full flex justify-end bottom-0 left-0 right-0 bg-black/40 z-[100]",onClick:U(L,["self"])},[e("div",Oe,[e("div",{class:"w-full flex justify-end pr-10 pt-10"},[e("div",{class:"size-10 cursor-pointer flex justify-center items-center",onClick:L},t[17]||(t[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",clas1s:"size-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),e("div",Ke,[e("div",Pe,[e("div",qe,[e("div",Ye,[n(z,{modelValue:E.value,"onUpdate:modelValue":t[4]||(t[4]=c=>E.value=c),"is-editing":l.isEditing,tag:"h1",class:"text-8xl font-extrabold transform scale-y-75",placeholder:"LET'S WORK TOGETHER",onChange:D},null,8,["modelValue","is-editing"]),t[18]||(t[18]=e("div",{class:"w-1/2 h-full flex justify-end items-center"},null,-1))]),n(z,{modelValue:j.value,"onUpdate:modelValue":t[5]||(t[5]=c=>j.value=c),"is-editing":l.isEditing,tag:"p",class:"max-w-2xl pb-8",placeholder:"We'd love to hear from you, whether you just want to shoot the breeze or discuss a potential opportunity to achieve great things together.",multiline:!0,onChange:F},null,8,["modelValue","is-editing"]),e("div",Ze,[t[19]||(t[19]=e("input",{type:"text",class:"w-full hover:bg-white/10 h-10 border border-white bg-white/5 text-white rounded-md pl-8 py-10 mb-2 text-xl focus:border-white focus:bg-white/10 focus:border-2 placeholder-white",placeholder:"Name"},null,-1)),t[20]||(t[20]=e("input",{type:"text",class:"w-full hover:bg-white/10 h-10 border border-white bg-white/5 text-white rounded-md pl-8 py-10 mb-2 text-xl focus:border-white focus:bg-white/10 focus:border-2 placeholder-white",placeholder:"Your email address"},null,-1)),t[21]||(t[21]=e("input",{type:"text",class:"w-full hover:bg-white/10 h-10 border border-white bg-white/5 text-white rounded-md pl-8 py-10 mb-2 text-xl focus:border-white focus:bg-white/10 focus:border-2 placeholder-white",placeholder:"Add message"},null,-1)),n(z,{modelValue:B.value,"onUpdate:modelValue":t[6]||(t[6]=c=>B.value=c),"is-editing":l.isEditing,tag:"button",class:"w-full h-32 bg-blue-950/70 uppercase font-extrabold text-white text-4xl transform scale-y-75 rounded-md p-2",placeholder:"Send",onChange:R},null,8,["modelValue","is-editing"])])])])])])])):x("",!0),e("div",null,[e("nav",{class:S(["fixed w-full z-50 transition-all duration-300 pt-5",s.value?"translate-y-0":"-translate-y-full","lg:bg-transparent bg-[#0A15E3] pb-8 lg:pb-0"])},[e("div",Je,[e("div",Qe,[e("div",Xe,[e("div",_e,[n(be,{class:"block h-14 p-1 pl-8 w-auto"})])]),e("div",et,[e("div",tt,[n(A,{href:o.route("index"),active:o.route().current("index")},{default:g(()=>t[22]||(t[22]=[b(" Home ")])),_:1},8,["href","active"])]),e("div",ot,[n(A,{href:o.route("work"),active:o.route().current("work")},{default:g(()=>t[23]||(t[23]=[b(" Work ")])),_:1},8,["href","active"])]),e("div",lt,[n(A,{href:o.route("approach"),active:o.route().current("approach")},{default:g(()=>t[24]||(t[24]=[b(" Aproach ")])),_:1},8,["href","active"])]),e("div",st,[n(A,{href:o.route("about"),active:o.route().current("about")},{default:g(()=>t[25]||(t[25]=[b(" About Us ")])),_:1},8,["href","active"])]),e("div",at,[n(z,{modelValue:V.value,"onUpdate:modelValue":t[7]||(t[7]=c=>V.value=c),"is-editing":l.isEditing,tag:"div",placeholder:"Get in touch",onChange:G},null,8,["modelValue","is-editing"])])]),e("div",{class:"flex xl:hidden"},[e("div",{class:"flex justify-end size-10 cursor-pointer text-white p-2 mr-5 mt-0",onClick:I},t[26]||(t[26]=[e("svg",{"data-bbox":"25.264 17.534 149.471 164.932",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200","data-type":"shape",class:"text-white",currentColor:"white"},[e("g",null,[e("path",{d:"M35.572 38.15h128.855c5.693 0 10.308-4.616 10.308-10.308s-4.616-10.308-10.308-10.308H35.572c-5.693 0-10.308 4.616-10.308 10.308S29.88 38.15 35.572 38.15z"}),e("path",{d:"M164.428 89.692H35.572c-5.693 0-10.308 4.616-10.308 10.308s4.616 10.308 10.308 10.308h128.855c5.693 0 10.308-4.616 10.308-10.308s-4.615-10.308-10.307-10.308z"}),e("path",{d:"M164.428 161.85H87.114c-5.693 0-10.308 4.616-10.308 10.308 0 5.693 4.616 10.308 10.308 10.308h77.313c5.693 0 10.308-4.616 10.308-10.308.001-5.692-4.615-10.308-10.307-10.308z"})])],-1)]))])])]),e("div",{class:S([{block:d.value,hidden:!d.value},"sm:hidden"])},[e("div",it,[n(C,{href:o.route("dashboard"),active:o.route().current("dashboard")},{default:g(()=>t[27]||(t[27]=[b(" Home ")])),_:1},8,["href","active"])]),e("div",nt,[n(C,{href:o.route("dashboard"),active:o.route().current("dashboard")},{default:g(()=>t[28]||(t[28]=[b(" Inventario ")])),_:1},8,["href","active"])]),e("div",rt,[e("div",dt,[o.$page.props.jetstream.managesProfilePhotos?(a(),i("div",ut,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:(P=(K=(O=(H=o.$page)==null?void 0:H.props)==null?void 0:O.auth)==null?void 0:K.user)==null?void 0:P.profile_photo_url,alt:(J=(Z=(Y=(q=o.$page)==null?void 0:q.props)==null?void 0:Y.auth)==null?void 0:Z.user)==null?void 0:J.name},null,8,ct)])):x("",!0),e("div",null,[e("div",ht,$((ee=(_=(X=(Q=o.$page)==null?void 0:Q.props)==null?void 0:X.auth)==null?void 0:_.user)==null?void 0:ee.name),1),e("div",ft,$((se=(le=(oe=(te=o.$page)==null?void 0:te.props)==null?void 0:oe.auth)==null?void 0:le.user)==null?void 0:se.email),1)])]),e("div",mt,[n(C,{href:o.route("profile.show"),active:o.route().current("profile.show")},{default:g(()=>t[29]||(t[29]=[b(" Perfil ")])),_:1},8,["href","active"]),o.$page.props.jetstream.hasApiFeatures?(a(),ne(C,{key:0,href:o.route("api-tokens.index"),active:o.route().current("api-tokens.index")},{default:g(()=>t[30]||(t[30]=[b(" API Tokens ")])),_:1},8,["href","active"])):x("",!0),e("form",{method:"POST",onSubmit:U(y,["prevent"])},[n(C,{as:"button"},{default:g(()=>t[31]||(t[31]=[b(" Cerrar sesión ")])),_:1})],32),o.$page.props.jetstream.hasTeamFeatures?(a(),i(W,{key:1},[t[37]||(t[37]=e("div",{class:"border-t border-gray-200"},null,-1)),t[38]||(t[38]=e("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Team ",-1)),n(C,{href:o.route("teams.show",o.$page.props.auth.user.current_team),active:o.route().current("teams.show")},{default:g(()=>t[32]||(t[32]=[b(" Team Settings ")])),_:1},8,["href","active"]),o.$page.props.jetstream.canCreateTeams?(a(),ne(C,{key:0,href:o.route("teams.create"),active:o.route().current("teams.create")},{default:g(()=>t[33]||(t[33]=[b(" Create New Team ")])),_:1},8,["href","active"])):x("",!0),o.$page.props.auth.user.all_teams.length>1?(a(),i(W,{key:1},[t[35]||(t[35]=e("div",{class:"border-t border-gray-200"},null,-1)),t[36]||(t[36]=e("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Switch Teams ",-1)),(a(!0),i(W,null,ge(o.$page.props.auth.user.all_teams,c=>(a(),i("form",{key:c.id,onSubmit:U(At=>T(c),["prevent"])},[n(C,{as:"button"},{default:g(()=>[e("div",pt,[c.id==o.$page.props.auth.user.current_team_id?(a(),i("svg",vt,t[34]||(t[34]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):x("",!0),e("div",null,$(c.name),1)])]),_:2},1024)],40,gt))),128))],64)):x("",!0)],64)):x("",!0)])])],2)],2),o.$slots.header?(a(),i("header",bt,[e("div",xt,[re(o.$slots,"header")])])):x("",!0),e("main",null,[re(o.$slots,"default")])])])}}},wt={class:"flex flex-col items-center space-y-4"},yt={class:"relative"},kt=["src","alt"],Ct={key:0,class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded"},Et=["disabled"],St=["disabled"],$t={key:1,class:"mt-4"},Vt=["src"],jt={class:"mt-2 space-x-2"},Bt=["disabled"],Tt=["disabled"],It={__name:"ImageUploader",props:{currentImage:{type:String,default:""},section:{type:String,required:!0},name:{type:String,required:!0},alt:{type:String,default:"Imagen"},imageClass:{type:String,default:"w-32 h-32 object-contain"},previewClass:{type:String,default:"w-24 h-24 object-cover border-2 border-blue-300 rounded"},buttonText:{type:String,default:"Seleccionar imagen"},showEditButton:{type:Boolean,default:!1},maxSize:{type:Number,default:5}},emits:["imageUpdated"],setup(l,{emit:M}){const r=l,p=m(null),f=m(null),d=m(null),s=m(!1),u=m(""),E=m(""),j=ue(()=>r.currentImage?r.currentImage.startsWith("/storage/")?r.currentImage:r.currentImage.startsWith("storage/")?"/"+r.currentImage:r.currentImage.startsWith("http")||r.currentImage.startsWith("/")?r.currentImage:`/storage/${r.currentImage}`:"/images/placeholder.svg"),V=()=>{p.value.click()},B=k=>{const h=k.target.files[0];if(console.log("Archivo seleccionado:",h),h){if(!h.type.startsWith("image/")){w("Por favor selecciona un archivo de imagen válido","error");return}if(h.size>r.maxSize*1024*1024){w(`La imagen debe ser menor a ${r.maxSize}MB`,"error");return}d.value=h,console.log("Archivo guardado en archivoSeleccionado:",d.value);const v=new FileReader;v.onload=I=>{f.value=I.target.result,console.log("Nueva imagen establecida:",f.value)},v.readAsDataURL(h)}},T=async()=>{var k,h;if(!d.value){w("No hay archivo seleccionado","error");return}s.value=!0,u.value="";try{const v=new FormData;v.append("image",d.value),v.append("section",r.section),v.append("name",r.name);const I=await pe.post("/api/media/upload",v,{headers:{"Content-Type":"multipart/form-data"}});I.data.success?(f.value=null,d.value=null,p.value.value="",w("Imagen actualizada exitosamente","success"),N("imageUpdated",I.data.data)):w(I.data.message||"Error al subir la imagen","error")}catch(v){console.error("Error al subir la imagen:",v),w(((h=(k=v.response)==null?void 0:k.data)==null?void 0:h.message)||"Error al subir la imagen. Inténtalo de nuevo.","error")}finally{s.value=!1}},y=()=>{f.value=null,d.value=null,p.value.value="",u.value=""},w=(k,h)=>{u.value=k,E.value=h,setTimeout(()=>{u.value=""},5e3)},N=M;return(k,h)=>(a(),i("div",wt,[e("div",yt,[e("img",{src:j.value,alt:l.alt,class:S(l.imageClass)},null,10,kt),l.showEditButton?(a(),i("div",Ct,[e("button",{class:"bg-white text-gray-800 px-3 py-1 rounded text-sm font-medium",onClick:V,disabled:s.value},$(s.value?"Subiendo...":"Editar"),9,Et)])):x("",!0)]),l.showEditButton?x("",!0):(a(),i("button",{key:0,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md transition-colors duration-200",onClick:V,disabled:s.value},$(s.value?"Subiendo...":l.buttonText),9,St)),e("input",{type:"file",ref_key:"fileInput",ref:p,onChange:B,accept:"image/*",class:"hidden"},null,544),f.value?(a(),i("div",$t,[h[0]||(h[0]=e("h3",{class:"text-sm font-medium text-gray-700 mb-2"},"Vista previa:",-1)),e("img",{src:f.value,alt:"Vista previa",class:S(l.previewClass)},null,10,Vt),e("div",jt,[e("button",{onClick:T,disabled:s.value,class:"bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white px-3 py-1 rounded text-sm"},$(s.value?"Subiendo...":"Confirmar"),9,Bt),e("button",{onClick:y,disabled:s.value,class:"bg-red-500 hover:bg-red-600 disabled:bg-gray-400 text-white px-3 py-1 rounded text-sm"}," Cancelar ",8,Tt)])])):x("",!0),u.value?(a(),i("div",{key:2,class:S(["mt-2 p-2 rounded text-sm",E.value==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},$(u.value),3)):x("",!0)]))}},zt={class:"fixed bottom-0 right-14"},Mt=["src"],Nt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"size-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Ut={key:2,class:"absolute bottom-full right-0 z-10 bg-white p-2 rounded-lg shadow-lg border mb-2"},Gt={__name:"FloatingButtonEdit",props:{isEditing:{type:Boolean,default:!1},floatingButtonImage:{type:Object,default:null}},emits:["image-updated"],setup(l,{emit:M}){const r=M,p=s=>!s||!s.path?null:s.path.startsWith("/storage/")?s.path:s.path.startsWith("storage/")?"/"+s.path:s.path.startsWith("http")||s.path.startsWith("/")?s.path:`/storage/${s.path}`,f=s=>{console.log("Imagen actualizada en FloatingButtonEdit:",s),r("image-updated",s)},d=()=>{console.log("showBarContact from floating button")};return(s,u)=>(a(),i("div",zt,[e("div",{class:"size-60 bg-white rounded-full flex justify-center items-center cursor-pointer relative",onClick:d},[l.floatingButtonImage?(a(),i("img",{key:0,src:p(l.floatingButtonImage),alt:"Botón flotante",class:"w-full h-full object-cover rounded-full"},null,8,Mt)):(a(),i("svg",Nt,u[0]||(u[0]=[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))),l.isEditing?(a(),i("div",Ut,[u[1]||(u[1]=e("div",{class:"text-xs text-gray-600 mb-2"},"Editar imagen",-1)),n(It,{currentImage:p(l.floatingButtonImage),section:"welcome",name:"floating_button",alt:"Imagen del botón flotante",imageClass:"w-16 h-16 object-cover rounded-lg",previewClass:"w-32 h-32 object-cover border-2 border-blue-300 rounded-full",buttonText:"Cambiar imagen",showEditButton:!1,maxSize:5,onImageUpdated:f},null,8,["currentImage"])])):x("",!0)])]))}};export{z as E,Ft as _,It as a,Gt as b};
